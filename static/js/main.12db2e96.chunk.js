(this["webpackJsonpweb-react"]=this["webpackJsonpweb-react"]||[]).push([[0],{121:function(e,t,r){},131:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r(0),c=r.n(a),i=r(10),o=r.n(i),s=(r(121),r(72)),l=r.n(s),u=r(50),h=r(81),d=r(15),p=r(23),f=r(3),j=r(170),b=r(190),v=r(189),m=r(181),g=r(171),O=r(182),x=r(135),k=r(174),C=r(99),w=r.n(C),y=r(101),S=r(82),M=r(17),A=r(21),_=3.6576,T=function(e){var t=Object(a.useRef)(null),r=Object(a.useRef)(null),c=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useRef)(null),u=Object(a.useRef)(null),h=Object(a.useRef)(null),d=Object(a.useRef)([]),p=Object(M.a)(),f="#333",j=p.palette.primary.main,b=p.palette.primary.light,v="rgb(70, 70, 255)",m="rgb(255, 40, 40)",g=Object(a.useRef)(null),O=Object(a.useRef)(null),x=e.drawerWidth,k=e.open,C=(e.mode,e.setMode,e.field,e.paths),w=(e.setPaths,e.setCanvasDims),T=(e.latch,e.trackWidth,e.badPaths),E=function(e){var t,n=e.clientX,a=e.clientY,c=null!==(t=o.current.left+s.current)&&void 0!==t?t:0,i=o.current.top;return{x:(n-c)/r.current.scene.scale,y:(a-i)/r.current.scene.scale}},P=function(t){var r=c.current.translation,n=function(e){e.preventDefault();var n=E(e),a=n.x-r.x,c=n.y-r.y;t.translation.set(a,c)},a=function(e){e.preventDefault();var t=e.originalEvent.changedTouches[0];return n({preventDefault:function(){},clientX:t.pageX,clientY:t.pageY}),!1},i=function r(a){a.preventDefault(),e.latch&&e.paths.forEach((function(e){e.vectors.forEach((function(e){e.r.id===t.id&&(Math.abs(t.rotation)<.1||Math.abs(t.rotation-Math.PI)<.1?t.translation.set(e.p.translation.x,t.translation.y):(Math.abs(Math.abs(t.rotation)-Math.PI/2)<.1||Math.abs(t.rotation-3*Math.PI/2)<.1)&&t.translation.set(t.translation.x,e.p.translation.y))}))})),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",r)},o=function e(t){return t.preventDefault(),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",e),!1};L(t._renderer.elem,"mousedown",(function(e){e.preventDefault(),window.addEventListener("mousemove",n),window.addEventListener("mouseup",i)})),L(t._renderer.elem,"touchstart",(function(e){return e.preventDefault(),window.addEventListener("touchmove",a),window.addEventListener("touchend",o),!1}))},I=function(t,n,a,i){var o;"A"===a&&t===n._collection[0]&&((o=r.current.makeRectangle(t.x,t.y,r.current.width/_*e.trackWidth,r.current.width/_*e.trackWidth)).noFill().stroke=b,o.linewidth=2,c.current.add(o));var s=r.current.makeCircle(0,0,10),l=r.current.makePolygon(0,0,10);l.rotation=Math.atan2(t.controls.right.y,t.controls.right.x)+Math.PI/2,s.translation.copy(t),l.translation.copy(t.controls.right).addSelf(t),s.noStroke().fill=l.noStroke().fill=j;var u=new A.a.Path([(new A.a.Anchor).copy(s.translation),(new A.a.Anchor).copy(l.translation)]);u.noFill().stroke=j;var h=r.current.makeGroup(u,s,l);h.translation.addSelf(n.translation),c.current.add(h),s.translation.bind(A.a.Events.change,(function(){t.copy(this),l.translation.copy(t.controls.right).addSelf(this),u.vertices[0].copy(this),u.vertices[1].copy(l.translation),o&&o.translation.copy(this),e.setPaths(new Map(e.paths.set(a,{waypoints:e.paths.get(a).waypoints,vectors:e.paths.get(a).vectors.map((function(e){return e.p.id===s.id?{s:e.s,g:e.g,p:s,r:e.r}:e})),path:e.paths.get(a).path})))})),l.translation.bind(A.a.Events.change,(function(){t.controls.right.copy(this).subSelf(t),u.vertices[1].copy(this);var r=-1*(t.controls.right.x-t.x),n=-1*(t.controls.right.y-t.y),c=new A.a.Vector(r,n);t.controls.left.copy(c).subSelf(t);var i=Math.atan2(t.controls.right.y,t.controls.right.x)+Math.PI/2;l.rotation=i,o&&(o.rotation=i),e.setPaths(new Map(e.paths.set(a,{waypoints:e.paths.get(a).waypoints,vectors:e.paths.get(a).vectors.map((function(e){return e.r.id===l.id?{s:e.s,g:e.g,p:e.p,r:l}:e})),path:e.paths.get(a).path})))})),r.current.update();var d,p={s:o,g:h,p:s,r:l};i?(d=Array.from(e.paths.get(a).vectors)).splice(i,0,p):(d=Array.from(e.paths.get(a).vectors)).push(p),e.setPaths(new Map(e.paths.set(a,{waypoints:e.paths.get(a).waypoints,vectors:d,path:n})))},R=function(e){var t=new A.a.Path(e,!1,!0,!0);return t.cap=t.join="round",t.noFill().stroke=f,t.linewidth=5,c.current.add(t),t},D=function(t){t.preventDefault();var n=E(t),a=r.current.makeCircle(n.x,n.y,10);a.fill=j,0===e.paths.size&&e.setPaths(new Map(e.paths.set("A",{waypoints:[],vectors:[],path:null})));var i,o=function(){var t,r="A",n=Object(S.a)(e.paths.keys());try{for(n.s();!(t=n.n()).done;){var a=t.value;a.charCodeAt(0)>r.charCodeAt(0)&&(r=a)}}catch(c){n.e(c)}finally{n.f()}return r}();e.setPaths(new Map(e.paths.set(o,{waypoints:[a].concat(Object(y.a)(e.paths.get(o).waypoints)),vectors:e.paths.get(o).vectors,path:e.paths.get(o).path}))),e.paths.get(o).waypoints.length>1&&(!function(t){for(var n=[],a=e.paths.get(t).waypoints.length-1,i=a;i>=0;--i){var o=e.paths.get(t).waypoints[i],s=void 0;i===a?(s=new A.a.Anchor(o.translation.x,o.translation.y,0,100,0,-100,"M"),n.push(s)):(s=new A.a.Anchor(o.translation.x,o.translation.y,0,100,0,-100,"C"),n.push(s)),r.current.remove(o),r.current.update()}c.current=r.current.makeGroup();var l=R(n);l.vertices.forEach((function(e){I(e,l,t)}))}(o),e.setPaths(new Map(e.paths.set((i=o).substring(0,i.length-1)+String.fromCharCode(i.charCodeAt(i.length-1)+1),{waypoints:[],vectors:[],path:null}))),e.setMode("EDIT"))},L=function(e,t,r){for(var n={node:e,event:t,handler:r},a=0;a<d.current.length;++a)if(d.current[a]===n)return;e.addEventListener(t,r),d.current.push(n)},H=function(){for(var e=0;e<d.current.length;++e){var t,r=d.current[e];null===r||void 0===r||null===(t=r.node)||void 0===t||t.removeEventListener(r.event,r.handler)}d.current=[]},N=function(e){return Math.max(100,Math.min(e,800))},W=Object(a.useCallback)((function(e){e=N(e),r.current.scene.scale=e/i.current,r.current.renderer.setSize(e,e),w({x:i.current,y:i.current})}),[r,w]);return Object(a.useEffect)((function(){var e=function(){var e=15*Math.random()+80;return"#"+(e<<16|e<<8|e).toString(16)},n=t.current.getBoundingClientRect().width;i.current=N(n),r.current||(r.current=new A.a({width:i.current,height:i.current,autostart:!0}).appendTo(t.current),r.current.makeGroup()),function(){var t=r.current.width/6,n=3*t,a=6*t,c=6*t,i=t/5,o=t/8,s=t/8,l=t/12,u=r.current.makeGroup([]);!function(t,r,n){for(var a=0;a<6;a++)for(var c=n*(a+.5),i=0;i<6;i++){var o=n*(i+.5),s=t.current.makeRectangle(c,o,n,n);s.fill=e(),r.add(s)}}(r,u,t);var h=r.current.makeLine(n-s,0,n-s,a),d=r.current.makeLine(n+s,0,n+s,a),p=r.current.makeLine(t,0,t,a),f=r.current.makeLine(5*t,0,5*t,a),j=r.current.makeLine(0,n-s,t,n-s),b=r.current.makeLine(0,n+s,t,n+s),v=r.current.makeLine(5*t,n-s,6*t,n-s),m=r.current.makeLine(5*t,n+s,6*t,n+s),g=r.current.makeGroup([h,d,p,f,j,b,m,v]);g.linewidth=l,g.stroke="#fff";var O=r.current.makeCircle(n,i+o/2,i),x=r.current.makeCircle(i+o/2,i+o/2,i),k=r.current.makeCircle(c-i-o/2,i+o/2,i),C=r.current.makeCircle(i+o/2,n,i),w=r.current.makeCircle(n,n,i),y=r.current.makeCircle(c-i-o/2,n,i),S=r.current.makeCircle(i+o/2,a-i-o/2,i),M=r.current.makeCircle(n,a-i-o/2,i),A=r.current.makeCircle(c-i-o/2,a-i-o/2,i),_=r.current.makeGroup([x,O,k,C,w,y,S,M,A]);_.fill="none",_.stroke="rgb(0, 0, 0)",_.linewidth=o}(),window.addEventListener("resize",(function(){o.current=t.current.getBoundingClientRect();var e=o.current.width;W(e)}))}),[W]),Object(a.useEffect)((function(){null===o.current&&(o.current=t.current.getBoundingClientRect());var e=o.current.width;k?(s.current=x,W(e-x)):(s.current=0,W(e))}),[k,x,W]),Object(a.useEffect)((function(){if(e.mode!==l.current||e.latch!==u.current){switch(e.mode){case"ADD_PATH":H(),e.paths.forEach((function(e){e.path&&(e.path.stroke=f,e.vectors.forEach((function(e){e.p.fill=f,e.r.fill=f})))})),L(t.current,"click",D);break;case"EDIT":H(),e.paths.forEach((function(e){e.path&&(e.path.stroke=e.path.stroke===m?m:f,e.vectors.forEach((function(e){P(e.p),P(e.r),e.p.fill=j,e.r.fill=j})))}));break;case"ADD_POINTS":H(),e.paths.forEach((function(t,n,a){t.path&&(t.vectors.forEach((function(e){e.p.fill=f,e.r.fill=f})),t.path.stroke=j,L(t.path._renderer.elem,"click",(function(a){var c=function(e){var t=e.path.getPointAt(.5),n=r.current.makeCircle(t.x,t.y,10),a=r.current.makePolygon(0,0,10);return a.rotation=Math.atan2(t.controls.right.y,t.controls.right.x)+Math.PI/2,a.translation.copy(t.controls.right).addSelf(t),{p:n,r:a}}(t),i=new A.a.Anchor(c.p.translation.x,c.p.translation.y,100*Math.cos(c.r.rotation+Math.PI/2),100*Math.sin(c.r.rotation+Math.PI/2),-100*Math.cos(c.r.rotation+Math.PI/2),-100*Math.sin(c.r.rotation+Math.PI/2),"C"),o=t.path.vertices;o.splice(1,0,i);var s=R(o);t.path=s,r.current.remove(c.p,c.r),I(i,t.path,n,t.vectors.length-1),e.setMode("EDIT")})))}));break;case"REMOVE_POINTS":H(),e.paths.forEach((function(t,n,a){t.path&&(t.vectors.forEach((function(e){e.p.fill=f,e.r.fill=f})),t.path.stroke=j,L(t.path._renderer.elem,"click",(function(i){var o=t.path.vertices;if(o.pop(),o.length<2)t.vectors.forEach((function(e){e.g.remove(),e.s&&c.current.remove(e.s)})),r.current.remove(t.path),e.paths.delete(n),e.setPaths(new Map(e.paths));else{t.vectors.pop().g.remove();var s=R(o);t.path=s,r.current.update(),e.setPaths(new Map(a.set(n,t)))}})))}))}l.current=e.mode}})),Object(a.useEffect)((function(){var t,n;if(e.field!==h.current){switch(null===(t=g.current)||void 0===t||t.remove(),null===(n=O.current)||void 0===n||n.remove(),e.field){case"COMP":!function(){var e=i.current/6,t=3*e,n=6*e,a=6*e,c=e/5,o=e/8,s=c-o/2,l=r.current.makeCircle(t-c-o-s,t,s),u=r.current.makeCircle(t,t+c+o+s,s),h=r.current.makeCircle(t,4.5*e,s),d=r.current.makeCircle(t,n-o-s,s),p=r.current.makeCircle(o+s,n-o-s,s),f=r.current.makeCircle(o+s,t,s),j=r.current.makeCircle(o+s,o+s,s),b=r.current.makeCircle(a-2*o-s-c,c+2*o+s,s),x=r.current.makeCircle(a-2*o-s-c,n-c-2*o-s,s);g.current=r.current.makeGroup(l,u,h,d,p,f,j,b,x),g.current.fill=v;var k=r.current.makeCircle(t+c+o+s,t,s),C=r.current.makeCircle(t,t-c-o-s,s),w=r.current.makeCircle(t,1.5*e,s),y=r.current.makeCircle(t,0+o+s,s),S=r.current.makeCircle(a-o-s,o+s,s),M=r.current.makeCircle(a-o-s,t,s),A=r.current.makeCircle(a-o-s,n-o-s,s),_=r.current.makeCircle(2*o+s+c,c+2*o+s,s),T=r.current.makeCircle(2*o+s+c,n-c-2*o-s,s);O.current=r.current.makeGroup(k,C,w,y,S,M,S,A,_,T),O.current.fill=m}();break;case"SKILLS":!function(){var e=i.current/6,t=3*e,n=6*e,a=6*e,c=e/8,o=e/5-c/2,s=r.current.makeCircle(t,t,o),l=r.current.makeCircle(t,n-c-o,o),u=r.current.makeCircle(t,0+c+o,o),h=r.current.makeCircle(c+o,n-c-o,o),d=r.current.makeCircle(c+o,t,o),p=r.current.makeCircle(c+o,c+o,o),f=r.current.makeCircle(a-c-o,c+o,o),j=r.current.makeCircle(a-c-o,n-c-o,o),b=r.current.makeCircle(a-c-o,t,o);g.current=r.current.makeGroup(s,l,u,h,d,p,f,j,b),g.current.fill=v;var x=r.current.makeCircle(4*e,t,o),k=r.current.makeCircle(2*e,t,o),C=r.current.makeCircle(t,2*e,o),w=r.current.makeCircle(t,1*e,o),y=r.current.makeCircle(t,4*e,o),S=r.current.makeCircle(t,5*e,o),M=r.current.makeCircle(1.5*e,o,o),A=r.current.makeCircle(1.5*e,n-o,o),_=r.current.makeCircle(4.5*e,o,o),T=r.current.makeCircle(4.5*e,n-o,o),E=r.current.makeCircle(e,1.5*e,o),P=r.current.makeCircle(e,4.5*e,o),I=r.current.makeCircle(5*e,1.5*e,o),R=r.current.makeCircle(5*e,4.5*e,o);O.current=r.current.makeGroup(x,C,w,M,A,_,T,y,S,k,E,P,I,R),O.current.fill=m}()}h.current=e.field}})),Object(a.useEffect)((function(){C.forEach((function(e,t){console.log(e),1===T.get(t)?e.path.stroke=m:e.path&&(e.path.stroke=f)})),r.current.update()}),[C,T]),Object(n.jsx)("div",{ref:t})},E=r(102),P=r(186),I=r(173),R=r(185),D=r(54),L=function(e,t,r,n,a,c){return{x:r/e*_,y:(1-n/t)*_,yaw:-1*(a+Math.PI/2),vel:c?c/Math.sqrt(Math.pow(e,2)+Math.pow(t,2))*_:0}},H=function(e,t,r,n,a){return{x:(1-n/t)*_,y:r/e*_,yaw:a}};function N(e){var t=e.children,r=e.value,a=e.index,c=Object(E.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(p.a)(Object(p.a)({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},c),{},{children:r===a&&Object(n.jsx)(R.a,{pt:2,p:1,style:{backgroundColor:"#282c34"},children:t})}))}function W(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var F=Object(j.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,maxWidth:800}}}));function G(e){var t=F(),r=c.a.useState(0),a=Object(d.a)(r,2),i=a[0],o=a[1];return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(g.a,{position:"static",children:Object(n.jsxs)(P.a,{value:i,onChange:function(e,t){o(t)},"aria-label":"simple tabs example",children:[Object(n.jsx)(I.a,Object(p.a)({label:"Okapi"},W(0))),Object(n.jsx)(I.a,Object(p.a)({label:"Squiggles"},W(1)))]})}),Object(n.jsx)(N,{value:i,index:0,children:Object(n.jsx)(D.a,{text:function(){var t="// TODO: Fill in the info below for your robot\n";return t+="#define LEFT_CHASSIS_MOTOR_PORTS ({1, 2})\n",t+="#define RIGHT_CHASSIS_MOTOR_PORTS ({3, 4})\n",t+="#define WHEEL_DIAMETER (4_in)\n",t+="#define CHASSIS_MOTOR_CARTRIDGE (okapi::AbstractMotor::gearset::green)\n",t+="#define CHASSIS_CARTRIDGE_TICKS (imev5GreenTPR) // Should match above\n\n",t+="#define PATH_MAX_VEL        (".concat(e.maxVel,")\n"),t+="#define PATH_MAX_ACCEL      (".concat(e.maxAccel,")\n"),t+="#define PATH_MAX_JERK       (".concat(e.maxJerk,")\n"),t+="#define CHASSIS_TRACK_WIDTH (".concat(e.trackWidth,"_m)\n\n"),t+="auto chassis = okapi::ChassisControllerBuilder()\n",t+="\t.withMotors(LEFT_CHASSIS_MOTOR_PORTS, RIGHT_CHASSIS_MOTOR_PORTS)\n",t+="\t.withDimensions(\n",t+="\t\tCHASSIS_MOTOR_CARTRIDGE,\n",t+="\t\t{{WHEEL_DIAMETER, CHASSIS_TRACK_WIDTH}, CHASSIS_CARTRIDGE_TICKS})\n",t+="\t.build();\n",t+="auto profileController = okapi::AsyncMotionProfileControllerBuilder()\n",t+="\t.withLimits({PATH_MAX_VEL, PATH_MAX_ACCEL, PATH_MAX_JERK})\n",t+="\t.withOutput(chassis)\n",t+="\t.buildMotionProfileController();\n\n",t+="/**\n",t+=" * The Coordinate System for Okapi Points is:\n",t+=" * ^\n",t+=" * | x\n",t+=" * |    \u21b7 yaw\n",t+=" * |   y\n",t+=" * ------\x3e\n",t+=" */\n",t+=Array.from(e.paths).slice(0,-1).map((function(t){for(var r=Object(d.a)(t,2),n=r[0],a=r[1],c="profileController->generatePath({\n",i=a.vectors.length-1;i>=0;--i){var o=a.vectors[i],s=o.r.rotation,l=H(e.canvasDims.x,e.canvasDims.y,o.p.translation.x,o.p.translation.y,s),u=l.x,h=l.y;s=l.yaw,c+="\t{".concat(u.toFixed(3),"_m, ").concat(h.toFixed(3),"_m, ").concat(s.toFixed(3),"_rad},\n")}return c+='\t"'.concat(n,'"\n});\n')})).join("")}(),language:"cpp",showLineNumbers:!0,theme:D.b,codeBlock:!0})}),Object(n.jsx)(N,{value:i,index:1,children:Object(n.jsx)(D.a,{text:function(){var t="#define PATH_DT             (0.01)\n";return t+="#define PATH_MAX_VEL        (".concat(e.maxVel,")\n"),t+="#define PATH_MAX_ACCEL      (".concat(e.maxAccel,")\n"),t+="#define PATH_MAX_JERK       (".concat(e.maxJerk,")\n"),t+="#define CHASSIS_TRACK_WIDTH (".concat(e.trackWidth,")\n\n"),t+="auto constraints = squiggles::Constraints(PATH_MAX_VEL, PATH_MAX_ACCEL, PATH_MAX_JERK);\n",t+="auto model = std::make_shared<squiggles::TankModel>(CHASSIS_TRACK_WIDTH, constraints);\n",t+="auto generator = squiggles::SplineGenerator(constraints, model, PATH_DT);\n\n",t+=Array.from(e.paths).slice(0,-1).map((function(t){for(var r=Object(d.a)(t,2),n=r[0],a=r[1],c="auto path".concat(n," = generator.generate({\n"),i=a.vectors.length-1;i>=0;--i){var o=a.vectors[i],s=o.r.rotation,l=L(e.canvasDims.x,e.canvasDims.y,o.p.translation.x,o.p.translation.y,s),u=l.x,h=l.y;s=l.yaw,c+="\tsquiggles::ControlVector(squiggles::Pose(".concat(u.toFixed(3),", ").concat(h.toFixed(3),", ").concat(s.toFixed(3),")})"),i<a.vectors.length-1?c+=",\n":c+="\n"}return c+="});\n"})).join("")}(),language:"cpp",showLineNumbers:!0,theme:D.b,codeBlock:!0})})]})}var V=r(180),B=r(183),q=r(100),X="rgb(50, 168, 82)",J=Object(q.a)({palette:{primary:{light:"rgb(102, 204, 129)",main:X,dark:X}},overrides:{MuiToggleButton:{root:{"&$selected":{color:"#fff",backgroundColor:X}}}}}),K=r(175),z=r(176),Y=r(134),U=r(178),$=r(188),Q=r(184),Z=r(179),ee=r(191),te=r(177),re=r(95),ne=r.n(re),ae=r(96),ce=r.n(ae),ie=Object(j.a)((function(e){return Object(b.a)({drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})})})),oe=function(e){var t=ie(),r=Object(M.a)(),a=["2020-2021 Change Up"];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:t.drawerHeader,children:Object(n.jsx)(k.a,{onClick:e.handleDrawerClose,children:"ltr"===r.direction?Object(n.jsx)(ne.a,{}):Object(n.jsx)(ce.a,{})})}),Object(n.jsx)(K.a,{}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(Y.a,{children:Object(n.jsx)(x.a,{variant:"subtitle1",children:"Mode"})}),Object(n.jsx)(Y.a,{children:Object(n.jsxs)(ee.a,{value:e.mode,size:"small",exclusive:!0,onChange:function(t,r){null!==r&&e.setMode(r)},"aria-label":"path add/edit mode",children:[Object(n.jsx)(te.a,{value:"ADD_PATH","aria-label":"left aligned",children:"ADD PATH"}),Object(n.jsx)(te.a,{value:"EDIT","aria-label":"centered",children:"MOVE"}),Object(n.jsx)(te.a,{value:"ADD_POINTS","aria-label":"centered",children:"ADD POINTS"}),Object(n.jsx)(te.a,{value:"REMOVE_POINTS","aria-label":"centered",children:"REMOVE POINTS"})]})},"mode"),Object(n.jsx)(Y.a,{children:Object(n.jsx)(U.a,{control:Object(n.jsx)($.a,{checked:e.latch,onChange:function(t){return e.setLatch(t.target.checked)},name:"Latch",color:"primary"}),label:"Latch to Cardinal Directions"})})]}),Object(n.jsx)(K.a,{}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(Y.a,{children:Object(n.jsx)(x.a,{variant:"subtitle1",children:"Robot Specs"})}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(Q.a,{variant:"outlined",required:!0,label:"Track Width (m)",value:e.trackWidth,onChange:function(t){return e.setTrackWidth(t.target.value)}})}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(Q.a,{variant:"outlined",required:!0,label:"Max Velocity (m/s)",value:e.maxVel,onChange:function(t){return e.setMaxVel(t.target.value)}})}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(Q.a,{variant:"outlined",label:"Max Acceleration (m/s/s)",value:e.maxAccel,onChange:function(t){return e.setMaxAccel(t.target.value)}})}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(Q.a,{variant:"outlined",label:"Max Jerk (m/s/s/s)",value:e.maxJerk,onChange:function(t){return e.setMaxJerk(t.target.value)}})})]}),Object(n.jsx)(K.a,{}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(Y.a,{children:Object(n.jsx)(x.a,{variant:"subtitle1",children:"Field Setup"})}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(Q.a,{variant:"outlined",fullWidth:!0,id:"season-select",select:!0,label:"Comp Season",defaultValue:a[0],children:a.map((function(e){return Object(n.jsx)(Z.a,{value:e,children:e},e)}))})}),Object(n.jsx)(Y.a,{children:Object(n.jsxs)(ee.a,{value:e.field,exclusive:!0,onChange:function(t,r){null!==r&&e.setField(r)},"aria-label":"path add/edit mode",children:[Object(n.jsx)(te.a,{value:"COMP","aria-label":"left aligned",children:"COMP"}),Object(n.jsx)(te.a,{value:"SKILLS","aria-label":"centered",children:"AUTON"}),Object(n.jsx)(te.a,{value:"NONE","aria-label":"centered",children:"NONE"})]})})]}),Object(n.jsx)(K.a,{}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(Y.a,{children:Object(n.jsx)(x.a,{variant:"subtitle1",children:"Troubleshooting"})}),Object(n.jsx)(Y.a,{children:Object(n.jsxs)(x.a,{variant:"body2",children:["Paths in red CANNOT be generated by Squiggles. ",Object(n.jsx)("br",{}),"If a path appears in red, try editing your Robot Specs."]})})]})]})},se=r(97),le=r(98),ue=new(function(){function e(){Object(se.a)(this,e)}return Object(le.a)(e,[{key:"_dispatch",value:function(e){var t=this,r=e.msg;return this._status[r]=["loading"],this.worker.postMessage(e),new Promise((function(e,n){var a=setInterval((function(){var c=t._status[r];"done"===c[0]&&e(c[1]),"error"===c[0]&&n(c[1]),"loading"!==c[0]&&(delete t._status[r],clearInterval(a))}),50)}))}},{key:"load",value:function(){var e=this;return this._status={},this.worker=new Worker("robotsquiggles/js/squiggles.worker.js"),this.worker.onmessage=function(t){return e._status[t.data.msg]=["done",t]},this.worker.onerror=function(t){var r;return e._status[null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.msg]=["error",t]},this._dispatch({msg:"load"})}},{key:"test",value:function(){return console.log("service"),this._dispatch({msg:"asdfghjkl"})}},{key:"generate",value:function(e){return this._dispatch({msg:"generate",payload:e})}}]),e}()),he=300,de=Object(j.a)((function(e){return Object(b.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(he,"px)"),marginLeft:he,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:he,flexShrink:0},drawerPaper:{width:he},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300,overflow:"hidden"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})})),pe=function(e){var t=de(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),i=c[0],o=c[1],s=Object(a.useState)("ADD_PATH"),p=Object(d.a)(s,2),j=p[0],b=p[1],C=Object(a.useState)(!0),y=Object(d.a)(C,2),S=y[0],M=y[1],A=Object(a.useState)("NONE"),_=Object(d.a)(A,2),E=_[0],P=_[1],I=Object(a.useState)("0.45"),R=Object(d.a)(I,2),D=R[0],H=R[1],N=Object(a.useState)("1.0"),W=Object(d.a)(N,2),F=W[0],q=W[1],X=Object(a.useState)("2.0"),K=Object(d.a)(X,2),z=K[0],Y=K[1],U=Object(a.useState)("10.0"),$=Object(d.a)(U,2),Q=$[0],Z=$[1],ee=Object(a.useState)({x:window.innerWidth,y:window.innerHeight}),te=Object(d.a)(ee,2),re=te[0],ne=te[1],ae=Object(a.useState)(new Map),ce=Object(d.a)(ae,2),ie=ce[0],se=ce[1],le=Object(a.useState)(new Map),pe=Object(d.a)(le,2),fe=pe[0],je=pe[1];!function(e,t,r){var n=Object(a.useCallback)(e,r);Object(a.useEffect)((function(){var e=setTimeout((function(){n()}),t);return function(){clearTimeout(e)}}),[n,t])}((function(){fe.forEach((function(e,t){if(e.waypoints[1]&&e.vectors[1]&&!(e.vectors.length>2)){for(var r=[],n=e.vectors.length-1;n>=0;--n){var a=e.vectors[n],c=a.r.rotation,i=Math.sqrt(Math.pow(a.r.translation.x-a.p.translation.x,2)+Math.pow(a.r.translation.y-a.p.translation.y,2)),o=L(re.x,re.y,a.p.translation.x,a.p.translation.y,c,i);r.push({x:o.x,y:o.y,yaw:o.yaw,vel:o.vel})}!function(e,t){be.apply(this,arguments)}(t,{sx:r[0].x,sy:r[0].y,syaw:r[0].yaw,sv:r[0].vel,gx:r[1].x,gy:r[1].y,gyaw:r[1].yaw,gv:r[1].vel,max_vel:parseFloat(F),max_accel:parseFloat(z),max_jerk:parseFloat(Q),track_width:parseFloat(D)})}}))}),200,[fe,F,z,Q,D]);function be(){return(be=Object(h.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.generate(r);case 2:n=e.sent,se(new Map(ie.set(t,n.data.payload)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){ue.load()}),[]),Object(n.jsx)(V.a,{theme:J,children:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(m.a,{}),Object(n.jsx)(g.a,{position:"fixed",className:Object(f.a)(t.appBar,Object(u.a)({},t.appBarShift,i)),children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object(f.a)(t.menuButton,i&&t.hide),children:Object(n.jsx)(w.a,{})}),Object(n.jsx)(x.a,{variant:"h6",noWrap:!0,className:t.title,children:"Squiggles Drawing Board"}),Object(n.jsx)(B.a,{href:"https://squiggles.readthedocs.io",color:"inherit",children:"DOCS"})]})}),Object(n.jsx)(v.a,{className:t.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:t.drawerPaper},children:Object(n.jsx)(oe,{handleDrawerClose:function(){o(!1)},mode:j,setMode:b,field:E,setField:P,trackWidth:D,setTrackWidth:H,maxVel:F,setMaxVel:q,maxAccel:z,setMaxAccel:Y,maxJerk:Q,setMaxJerk:Z,latch:S,setLatch:M})}),Object(n.jsxs)("main",{className:Object(f.a)(t.content,Object(u.a)({},t.contentShift,i)),children:[Object(n.jsx)("div",{className:t.drawerHeader}),Object(n.jsx)(T,{drawerWidth:he,open:i,mode:j,setMode:b,field:E,paths:fe,setPaths:je,setCanvasDims:ne,latch:S,trackWidth:D,badPaths:ie}),Object(n.jsx)(G,{paths:fe,trackWidth:D,maxVel:F,maxAccel:z,maxJerk:Q,canvasDims:re})]})]})})},fe=function(e){e&&e instanceof Function&&r.e(155).then(r.bind(null,378)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(pe,{})}),document.getElementById("root")),fe()}},[[131,152,153]]]);
//# sourceMappingURL=main.12db2e96.chunk.js.map